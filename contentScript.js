(function(){"use strict";let b;const k=async()=>{await chrome.runtime.sendMessage({type:"GREETINGS",payload:{message:"Hello, my name is Con. I am from ContentScript."}},s=>{})};async function p(s){return new Promise(f=>{if(document.querySelector(s))return f(document.querySelector(s));const d=new MutationObserver(y=>{document.querySelector(s)&&(f(document.querySelector(s)),d.disconnect())});d.observe(document.body,{childList:!0,subtree:!0})})}chrome.runtime.onMessage.addListener((s,f,d)=>(s.type==="COUNT"&&console.log(`Current count is ${s.payload.count}`),d({}),!0)),console.log("%cChrome extension made by ariessda, have you donated?","color: red; font-size: x-large"),document.addEventListener("storage",function(s){console.log("storage",s)}),document.addEventListener("DOMContentLoaded",async function(){console.log("DOMContentLoaded")}),window.addEventListener("load",async()=>{try{if(b=document.head.getElementsByTagName("title")[0].innerHTML,b=="Sistem Informasi Manajemen Nikah - Kementerian Agama Republik Indonesia")await k();else if(b==="Facebook"){let F=function(e){return e.catch(t=>({error:t}))},N=function(...e){return console.log("started..."),Promise.all(e.map(F))};const d=async(e,t="",r=512)=>{try{const i=atob(e),l=[];for(let c=0;c<i.length;c+=r){const m=i.slice(c,c+r),w=new Array(m.length);for(let u=0;u<m.length;u++)w[u]=m.charCodeAt(u);const g=new Uint8Array(w);l.push(g)}return new Blob(l,{type:t})}catch(i){return console.log("b64toBlob error",i),""}};async function y(e,t,r,i="keydown",l={}){const n=new KeyboardEvent(i,{key:t,code:t,which:r,keyCode:r,...l});e.dispatchEvent(n)}async function C(e,t,r){return await new Promise(()=>setTimeout(async()=>{await document.execCommand("insertText",!1,e[r]),await y(t,"Enter",13,"keydown"),await y(t,"Enter",13,"keydown")},1e3)),console.log("data1 completed"),"data1 result"}async function E(e,t){return await new Promise(()=>setTimeout(async()=>{await document.execCommand("insertText",!1,e[3]),await y(t,"Enter",13,"keydown")},1e3)),console.log("data1 completed"),"data1 result"}async function x(e,t){return await new Promise(()=>setTimeout(async()=>{await document.execCommand("insertText",!1,e[4]),await y(t,"Enter",13,"keydown")},1e3)),console.log("data3 completed"),"data3 result"}async function o(e,t,r){return await new Promise(()=>setTimeout(async()=>{await document.execCommand("insertText",!1,e[r]),await y(t,"Enter",13,"keydown")},1e3)),console.log("data4 completed"),"data4 result"}async function B(){var e=!1;chrome.storage.sync.set({NCTOFB_pros:e});var t=await chrome.storage.local.get(["NCTOFB_img"]);await setTimeout(async()=>{var r=document.querySelector("[aria-label='Foto/video']");r.click(),await setTimeout(async()=>{var i=p("input[type=file]");i=document.querySelectorAll("input[type=file]");var l=t.NCTOFB_img,n=await d(l,"image/jpeg");const c=n.type,m=c.slice(c.lastIndexOf("/")+1,c.length),w=new File([n],`ss_uploadFB.${m}`,{type:c});var g=i.length-1;const u=i[g];let v=new DataTransfer;v.items.add(w),u.files=v.files;var a=document.createEvent("HTMLEvents");a.initEvent("change",!0,!1),await u.dispatchEvent(a),await setTimeout(async()=>{var h=document.querySelector("[aria-label='Berikutnya']");h!==null&&await h.click(),await setTimeout(async()=>{var T=document.querySelector("[aria-label='Kirim']");T!==null&&await T.click()},2e3)},2e3)},2e3)},1e3)}async function S(){try{await new Promise((e,t)=>setTimeout(t,2e3))}catch{throw console.log("bam errored"),"bam"}}async function A(e){for(var t=new Date().getTime(),r=t;r<t+e;)r=new Date().getTime()}Element.prototype.insertChildAtIndex=function(e,t){t||(t=0),t>=this.children.length?this.appendChild(e):this.insertBefore(e,this.children[t])};var s=function(e,t,r,i,l){e.textContent+=t[r],r<i-1?(r++,setTimeout(function(){s()},l)):e.setAttribute("textContent",e.value)},f=p("[aria-label='Buat postingan']");setTimeout(async()=>{await chrome.storage.sync.get(["NCTOFBIsi","NCTOFB_akun","NCTOFB_img","NCTOFB_pros"],async function(e){if(e.NCTOFB_pros){var t=!1;chrome.storage.sync.get({NCTOFB_pros:t})}else return!1;var r=e.NCTOFB_akun,i=document.body.innerHTML,n=e.NCTOFBIsi.split(`
`);if(i.includes("Apa yang Anda pikirkan sekarang?")>0){var c=p("a[href='"+r+"']"),m=document.querySelectorAll("a[href='"+r+"']")[1].parentElement.children[1],w=document.querySelector("[aria-label='Buat postingan']");const u=new KeyboardEvent("keydown",{key:"Shift",code:"Shift",which:16,keyCode:16}),v=new KeyboardEvent("keydown",{key:"Enter",code:"Enter",which:13,keyCode:13});w==null&&(await m.click(),await setTimeout(async()=>{var a=document.querySelector("div[aria-placeholder='Apa yang Anda pikirkan sekarang?']");N(C(n,a,0),o(n,a,2),E(n,a),x(n,a),o(n,a,5),o(n,a,6),o(n,a,7),o(n,a,8),o(n,a,9),o(n,a,10),o(n,a,11),o(n,a,12),o(n,a,13),o(n,a,14),o(n,a,15),o(n,a,16),o(n,a,17),o(n,a,18),o(n,a,19),o(n,a,20),o(n,a,21),o(n,a,22),o(n,a,23),o(n,a,24),o(n,a,25)).then(async h=>{console.log("done",h)}),setTimeout(async()=>{await B()},500)},1800))}})},5e3)}}catch(d){console.log(d)}},!1)})();
