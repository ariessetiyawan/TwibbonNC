(function(){"use strict";const Q=async a=>{try{var h="",i="",f="",d=(await fetch("./kua_list.json").then(n=>n.json()).then(n=>n)).filter(function(n){return n.Kode==a});h=d[0].Kabupaten,i=d[0].Propinsi,f=d[0].Kecamatan}catch{var h="",i="",f=""}return[f,h,i]},V=async a=>{var h={weekday:"long",year:"numeric",month:"long",day:"numeric"};let i=new Date(a),f=i.toLocaleDateString("id-ID",h);return new Intl.DateTimeFormat("id",{month:"long"}).format(i),new Intl.DateTimeFormat("id",{day:"2-digit"}).format(i),f},O="https://simkah4.kemenag.go.id/8b01cbba-027e-4d8d-b9a9-2af3c9c43634",Z="sidebar.html";let A="",Y="";async function M(a){let h=a.pesan;var i=parseInt(a.width),f=parseInt(a.height),d=a.url?a.url:"alert.html";await chrome.storage.sync.set({alertmsg:h}),chrome.windows.getCurrent(u=>{let n=u.id;chrome.storage.sync.set({popwinId:n});const c=i,v=f,e=Math.round((u.width-c)*.5+u.left),T=Math.round((u.height-v)*.5+u.top);chrome.windows.create({focused:!0,url:d,type:"popup",width:c,height:v,left:e,top:T},R=>{console.log("tabWindow.id",u.id)})})}function ee(){chrome.contextMenus.create({id:"mainmenu",title:"Twibbon NC",contexts:["selection"],visible:!1}),chrome.contextMenus.create({id:"nctofb",title:"NC to FB",contexts:["selection"],visible:!0}),chrome.contextMenus.create({id:"nctofbAPK",title:"Android",contexts:["selection"],visible:!0,parentId:"nctofb"}),chrome.contextMenus.create({id:"nctofbWEB",title:"Browser",contexts:["selection"],parentId:"nctofb",visible:!0}),chrome.contextMenus.create({id:"nctofbTT",title:"Tiktok",contexts:["selection"],parentId:"nctofb",visible:!0}),chrome.contextMenus.create({id:"nctofbIG",title:"Instagram",contexts:["selection"],parentId:"nctofb",visible:!0})}async function te(){document.body.innerHTML;var a=document.querySelector(".welcome-text");if(a.innerText.includes("Simbuang")){a!==null&&(a.childNodes[1].classList.add("d-none"),a=document.querySelectorAll(".navbar-toggler.navbar-toggler.align-self-center"),a[0]&&a[0].click());var a=document.querySelector("#overview");a!==null&&a.classList.add("d-none")}}async function K(a){setTimeout(async()=>{try{var h=document.body.innerHTML;try{var i="http://localhost:5000";await fetch(i).then(function(y){return y.text()}).then(function(y){var m=new DOMParser,U=m.parseFromString(y,"text/html");A=U.querySelector("#tokenkua").innerHTML;let o=A;chrome.storage.sync.set({tokeneKUA:o})}).catch(function(y){console.warn("Something went wrong.",y)})}catch{}var f=document.querySelector("[name='csrf-token']");if(Y=f.getAttribute("content"),chrome.storage.sync.set({tokencsrf:Y}),h.indexOf("MENU_URL")){var d=!0;chrome.storage.sync.set({isLOGIN:d});var u=h.split("var MENU_URL = ")[1].split("'")[1];let y=u;chrome.storage.sync.set({get_url_custom:y}),chrome.storage.sync.set({menuurl:u});var n=await chrome.storage.sync.get(["tokencsrf"]),c=n.tokencsrf,v=fetch(y,{headers:{accept:"*/*","accept-language":"en-US,en;q=0.9","sec-ch-ua":'"Chromium";v="124", "Google Chrome";v="124", "Not-A.Brand";v="99"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"Windows"',"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","x-csrf-token":c,"x-requested-with":"XMLHttpRequest"},referrer:"https://simkah4.kemenag.go.id/8b01cbba-027e-4d8d-b9a9-2af3c9c43634",referrerPolicy:"strict-origin-when-cross-origin",body:null,method:"GET",mode:"cors",credentials:"include"}).then(m=>m.json()).then(async m=>{let U=JSON.stringify(m);chrome.storage.local.set({get_url_menu_cust:U});var p=m.filter(t=>t.name=="Data KUA");try{var o="https://simkah4.kemenag.go.id/"+p[0].URL.public_id,g=await fetch(o,{headers:{accept:"*/*","accept-language":"en-US,en;q=0.9","sec-ch-ua":'"Chromium";v="124", "Google Chrome";v="124", "Not-A.Brand";v="99"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"Windows"',"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","x-csrf-token":c,"x-requested-with":"XMLHttpRequest"},referrer:"https://simkah4.kemenag.go.id/8b01cbba-027e-4d8d-b9a9-2af3c9c43634",referrerPolicy:"strict-origin-when-cross-origin",body:null,method:"GET",mode:"cors",credentials:"include"}).then(t=>t.json()).then(async t=>{var r=t.html;URL_KUA=r.split("function Edit(kode_kua){")[1].split('"')[1],chrome.storage.sync.set({URL_KUA}),URL_KUA_LIST=r.split("var kua = new DevExpress.data.CustomStore({")[1].split("url:")[1].split('"')[1],chrome.storage.sync.set({URL_KUA_LIST})})}catch{}var p=m.filter(t=>t.name=="Data Penghulu");try{var o="https://simkah4.kemenag.go.id/"+p[0].URL.public_id,g=await fetch(o,{headers:{accept:"*/*","accept-language":"en-US,en;q=0.9","sec-ch-ua":'"Chromium";v="124", "Google Chrome";v="124", "Not-A.Brand";v="99"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"Windows"',"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","x-csrf-token":c,"x-requested-with":"XMLHttpRequest"},referrer:"https://simkah4.kemenag.go.id/8b01cbba-027e-4d8d-b9a9-2af3c9c43634",referrerPolicy:"strict-origin-when-cross-origin",body:null,method:"GET",mode:"cors",credentials:"include"}).then(s=>s.json()).then(async s=>{var l=s.html;URL_PEGAWAI_DET=l.split("function Edit(nip){")[1].split('"')[1],chrome.storage.sync.set({URL_PEGAWAI_DET}),URL_PEGAWAI=l.split("var penghulu = new DevExpress.data.CustomStore({")[1].split("url:")[1].split('"')[1],chrome.storage.sync.set({URL_PEGAWAI})})}catch{}var p=m.filter(t=>t.name=="Desa/Kelurahan");try{var o="https://simkah4.kemenag.go.id/"+p[0].URL.public_id,g=await fetch(o,{headers:{accept:"*/*","accept-language":"en-US,en;q=0.9","sec-ch-ua":'"Chromium";v="124", "Google Chrome";v="124", "Not-A.Brand";v="99"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"Windows"',"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","x-csrf-token":c,"x-requested-with":"XMLHttpRequest"},referrer:"https://simkah4.kemenag.go.id/8b01cbba-027e-4d8d-b9a9-2af3c9c43634",referrerPolicy:"strict-origin-when-cross-origin",body:null,method:"GET",mode:"cors",credentials:"include"}).then(s=>s.json()).then(async s=>{var l=s.html;URL_KELURAHAN=l.split("var kelurahan = new DevExpress.data.CustomStore({")[1].split("url:")[1].split('"')[1],chrome.storage.sync.set({URL_KELURAHAN})})}catch{}var p=m.filter(t=>t.name=="Daftar Nikah");try{var o="https://simkah4.kemenag.go.id/"+p[0].URL.public_id,g=await fetch(o,{headers:{accept:"*/*","accept-language":"en-US,en;q=0.9","sec-ch-ua":'"Chromium";v="124", "Google Chrome";v="124", "Not-A.Brand";v="99"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"Windows"',"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","x-csrf-token":c,"x-requested-with":"XMLHttpRequest"},referrer:"https://simkah4.kemenag.go.id/8b01cbba-027e-4d8d-b9a9-2af3c9c43634",referrerPolicy:"strict-origin-when-cross-origin",body:null,method:"GET",mode:"cors",credentials:"include"}).then(s=>s.json()).then(async s=>{var l=s.html;URL_END_POINT_DAFTAR=l.split("function Edit(no_daftar){")[1].split('"')[1]+"?no_daftar=",chrome.storage.sync.set({URL_END_POINT_DAFTAR}),URL_END_POINT_DAFTAR_LIST=l.split("var datastore = new DevExpress.data.CustomStore({")[1].split("url:")[1].split('"')[1],chrome.storage.sync.set({URL_END_POINT_DAFTAR_LIST})})}catch{}var p=m.filter(t=>t.name=="Pemeriksaan");try{var o="https://simkah4.kemenag.go.id/"+p[0].URL.public_id,g=await fetch(o,{headers:{accept:"*/*","accept-language":"en-US,en;q=0.9","sec-ch-ua":'"Chromium";v="124", "Google Chrome";v="124", "Not-A.Brand";v="99"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"Windows"',"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","x-csrf-token":c,"x-requested-with":"XMLHttpRequest"},referrer:"https://simkah4.kemenag.go.id/8b01cbba-027e-4d8d-b9a9-2af3c9c43634",referrerPolicy:"strict-origin-when-cross-origin",body:null,method:"GET",mode:"cors",credentials:"include"}).then(s=>s.json()).then(async s=>{var l=s.html;URL_END_POINT_NB=l.split("function Edit(no_daftar){")[1].split('"')[1]+"?status_edit=pemeriksaan&no_daftar=",chrome.storage.sync.set({URL_END_POINT_NB});var b=l.split("function Edit(no_daftar){")[1].split('"')[1];chrome.storage.sync.set({URL_END_POINT_NB1:b}),URL_END_POINT_NB_LIST=l.split("var datastore = new DevExpress.data.CustomStore({")[1].split("url:")[1].split('"')[1],chrome.storage.sync.set({URL_END_POINT_NB_LIST}),URL_NTPN=l.split("function Lihat(no_daftar){")[1].split('"')[1]+"?no_daftar=",chrome.storage.sync.set({URL_NTPN}),URL_BILLING=URL_NTPN,chrome.storage.sync.set({URL_BILLING})})}catch{}var p=m.filter(t=>t.name=="Akta Nikah");try{var o="https://simkah4.kemenag.go.id/"+p[0].URL.public_id,g=await fetch(o,{headers:{accept:"*/*","accept-language":"en-US,en;q=0.9","sec-ch-ua":'"Chromium";v="124", "Google Chrome";v="124", "Not-A.Brand";v="99"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"Windows"',"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","x-csrf-token":c,"x-requested-with":"XMLHttpRequest"},referrer:"https://simkah4.kemenag.go.id/8b01cbba-027e-4d8d-b9a9-2af3c9c43634",referrerPolicy:"strict-origin-when-cross-origin",body:null,method:"GET",mode:"cors",credentials:"include"}).then(s=>s.json()).then(async s=>{var l=s.html;URL_END_POINT=l.split("function EditData(no_daftar){")[1].split('"')[1]+"?status_edit=pencatatan&no_daftar=",chrome.storage.sync.set({URL_END_POINT}),URL_END_POINT1=l.split("function EditPencatatan(no_daftar){")[1].split('"')[1]+"?param=edit&no_daftar=",chrome.storage.sync.set({URL_END_POINT1}),URL_END_POINT_LIST=l.split("var datastore = new DevExpress.data.CustomStore({")[1].split("url:")[1].split('"')[1],chrome.storage.sync.set({URL_END_POINT_LIST}),URL_KARTUNIKAH=l.split("else if(value.itemData.text=='Cetak Kartu Nikah Digital'){")[1].split("var url =")[1].split('"')[1],chrome.storage.sync.set({URL_KARTUNIKAH})})}catch{}var p=m.filter(t=>t.name=="Arsip Akta");try{var o="https://simkah4.kemenag.go.id/"+p[0].URL.public_id,g=await fetch(o,{headers:{accept:"*/*","accept-language":"en-US,en;q=0.9","sec-ch-ua":'"Chromium";v="124", "Google Chrome";v="124", "Not-A.Brand";v="99"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"Windows"',"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","x-csrf-token":c,"x-requested-with":"XMLHttpRequest"},referrer:"https://simkah4.kemenag.go.id/8b01cbba-027e-4d8d-b9a9-2af3c9c43634",referrerPolicy:"strict-origin-when-cross-origin",body:null,method:"GET",mode:"cors",credentials:"include"}).then(s=>s.json()).then(async s=>{var l=s.html;URL_ARSIP=l.split("function EditAkta(no_daftar){")[1].split('"')[1]+"?no_daftar=",chrome.storage.sync.set({URL_ARSIP}),URL_ARSIP_LIST=l.split("var datastore = new DevExpress.data.CustomStore({")[1].split("url:")[1].split('"')[1],chrome.storage.sync.set({URL_ARSIP_LIST}),URL_BUKUNIKAH_ARSIP=l.split("}else if(value.itemData.text=='Cetak Buku Nikah 2022'){")[1].split('"')[1],chrome.storage.sync.set({URL_BUKUNIKAH_ARSIP})})}catch{}var p=m.filter(t=>t.name=="Laporan Simponi");try{var o="https://simkah4.kemenag.go.id/"+p[0].URL.public_id,g=await fetch(o,{headers:{accept:"*/*","accept-language":"en-US,en;q=0.9","sec-ch-ua":'"Chromium";v="124", "Google Chrome";v="124", "Not-A.Brand";v="99"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"Windows"',"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","x-csrf-token":c,"x-requested-with":"XMLHttpRequest"},referrer:"https://simkah4.kemenag.go.id/8b01cbba-027e-4d8d-b9a9-2af3c9c43634",referrerPolicy:"strict-origin-when-cross-origin",body:null,method:"GET",mode:"cors",credentials:"include"}).then(s=>s.json()).then(async s=>{var l=s.html;URL_LAPSIMPONI=l.split("var datastore = new DevExpress.data.CustomStore({")[1].split("url:")[1].split('"')[1],chrome.storage.sync.set({URL_LAPSIMPONI})})}catch{}var p=m.filter(t=>t.name=="Laporan Excel");try{var o="https://simkah4.kemenag.go.id/"+p[0].URL.public_id,g=await fetch(o,{headers:{accept:"*/*","accept-language":"en-US,en;q=0.9","sec-ch-ua":'"Chromium";v="124", "Google Chrome";v="124", "Not-A.Brand";v="99"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"Windows"',"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","x-csrf-token":c,"x-requested-with":"XMLHttpRequest"},referrer:"https://simkah4.kemenag.go.id/8b01cbba-027e-4d8d-b9a9-2af3c9c43634",referrerPolicy:"strict-origin-when-cross-origin",body:null,method:"GET",mode:"cors",credentials:"include"}).then(s=>s.json()).then(async s=>{URL_EXCEL=s.html.split("url:")[1].split('"')[1].trim(),chrome.storage.sync.set({URL_EXCEL})})}catch{}var p=m.filter(t=>t.name=="Akta Nikah");try{var o="https://simkah4.kemenag.go.id/"+p[0].URL.public_id,g=await fetch(o,{headers:{accept:"*/*","accept-language":"en-US,en;q=0.9","sec-ch-ua":'"Chromium";v="124", "Google Chrome";v="124", "Not-A.Brand";v="99"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"Windows"',"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","x-csrf-token":c,"x-requested-with":"XMLHttpRequest"},referrer:"https://simkah4.kemenag.go.id/8b01cbba-027e-4d8d-b9a9-2af3c9c43634",referrerPolicy:"strict-origin-when-cross-origin",body:null,method:"GET",mode:"cors",credentials:"include"}).then(s=>s.json()).then(async s=>{URL_BUKUNIKAH_DL=s.html.split("'Cetak Buku Nikah 2022'")[1].split('var url = "')[1].split('"')[0].trim(),chrome.storage.sync.set({URL_BUKUNIKAH_DL}),chrome.storage.local.set({URL_BUKUNIKAH_DL})})}catch{}return m})}if(h.indexOf("PARAMETER_URL")){var u=h.split("var PARAMETER_URL = ")[1].split("'")[1];let m=u;chrome.storage.sync.set({get_url_params:m}),chrome.storage.sync.set({menuurl:u})}if(h.indexOf("btnProfile")>0){let m=document.querySelector("[name='csrf-token']").getAttribute("content");chrome.storage.sync.set({tokencsrf:m});var e=h.split("btnProfile");let U=document.querySelector("[id='btnProfile']"),o=document.querySelector("#UserDropdown").parentNode.childNodes[3].childNodes[1].childNodes[5];if(o.innerText.includes("@")){let t=o.innerText;chrome.storage.sync.set({kuamail:t});var T=t.split("@")[0];userID=T,kuakode=userID,chrome.storage.sync.set({userID}),chrome.storage.sync.set({kuakode})}o=document.querySelector("#UserDropdown").parentNode.childNodes[3].childNodes[1].childNodes[3];let g=o.innerText.toUpperCase();chrome.storage.sync.set({kuaname:g}),chrome.storage.sync.set({userID});const p=await cookieStore.getAll();var R=chrome.storage.local.get(["get_url_menu_cust"])}}catch(y){console.log("terjadi error",y)}},1e3)}async function ae(a){await chrome.tabs.get(a.tabId,async function(h){h.url=="https://simkah4.kemenag.go.id/8b01cbba-027e-4d8d-b9a9-2af3c9c43634"?await chrome.tabs.query({active:!0,currentWindow:!0},async function(i){var f=i[0],d=f.id;await chrome.scripting.executeScript({target:{tabId:d},function:K,args:[h]})}):h.url.includes("facebook.com")&&await chrome.tabs.query({active:!0,currentWindow:!0},async function(i){var f=i[0];f.id})})}chrome.runtime.onInstalled.addListener(async()=>{ee();var a=!1;chrome.storage.sync.set({isLOGIN:a})}),chrome.runtime.onMessage.addListener(async(a,h,i)=>{if(a.type==="GREETINGS"){const n=`Hi ${h.tab?"Con":"Pop"}, my name is Bac. I am from Background. It's great to hear from you.`;i({message:n});let[c]=await chrome.tabs.query({active:!0});if(new URL(c.url),c.url===O){var f=!0;chrome.storage.sync.set({isLOGIN:f}),await chrome.scripting.executeScript({target:{tabId:c.id},function:K,args:[c]})}return!0}else if(a.type==="FB_INJECT"){const n=`Hi ${h.tab?"Con":"Pop"}, my name is Bac. I am from Background. It's great to hear from you.`;return i({message:n}),!0}else if(a.type==="KIRIMNC"){const n=`Hi ${h.tab?"Con":"Pop"}, my name is Bac. I am from Background. It's great to hear from you.`;i({message:n});let[c]=await chrome.tabs.query({active:!0});return console.log(a.payload.message),!0}else if(a.type==="Preview_template"){let n="Please wait...";var d={};i({message:n});var u="";return n=`<img src="${u}" id="twibbon"/>`,d.width=600,d.height=600,d.pesan=n,d.url="modal.html",M(d),!0}else if(a.type==="GETTOKENKUA"){let n="Please wait to get token KUA...";var d={};i({message:n});let[v]=await chrome.tabs.query({active:!0});if(new URL(v.url),v.url===O){var f=!0;chrome.storage.sync.set({isLOGIN:f}),await chrome.scripting.executeScript({target:{tabId:v.id},function:K,args:[v]})}return!0}else if(a.type==="DEMO"){let n="Please wait to get token KUA...";var d={};i({message:n});try{let[v]=await chrome.tabs.query({active:!0});await chrome.scripting.executeScript({target:{tabId:v.id},function:te})}catch{}return!0}}),chrome.tabs.onUpdated.addListener(async(a,h,i)=>{if(console.log("%cChrome extension made by ariessda, have you donated?","color: blue; font-size: x-large"),!!i.url)if(new URL(i.url),i.url===O){if(h.status,i.status==="complete"){var f=chrome.runtime.getManifest(),d=f.version,u=d;chrome.storage.sync.set({TWB_NC_Version:u});var n=!0;chrome.storage.sync.set({isLOGIN:n}),await chrome.sidePanel.setOptions({tabId:a,path:Z,enabled:!0}),chrome.sidePanel.setPanelBehavior({openPanelOnActionClick:!0})}}else await chrome.sidePanel.setOptions({tabId:a,enabled:!1}),chrome.sidePanel.setPanelBehavior({openPanelOnActionClick:!0}),i.url.includes("facebook.com")&&chrome.storage.sync.get(["NCTOFB_pros"],async function(c){if(i.active==!0&&i.url.includes("facebook.com")&&c.NCTOFB_pros)try{if(h.status==="complete"&&i.status==="complete"){var v=3e3;let[e]=await chrome.tabs.query({active:!0})}}catch(e){console.log(e),chrome.storage.sync.set({NCTOFB_pros:!1})}else chrome.storage.sync.set({NCTOFB_pros:!1})})}),chrome.action.onClicked.addListener(async a=>{console.log("chrome.action.onClicked.addListener tab",a)}),chrome.tabs.onActivated.addListener(ae),chrome.contextMenus.onClicked.addListener(async(a,h)=>{a.menuItemId==="nctofbWEB"?chrome.tabs.query({active:!0,currentWindow:!0},function(i){var f=i[0];if(f.id,i[0].url=="https://simkah4.kemenag.go.id/8b01cbba-027e-4d8d-b9a9-2af3c9c43634"){var d=a.selectionText,u=null,n=!0;chrome.storage.sync.set({NCTOFB_pros:n}),chrome.storage.sync.get(["URL_EDITFOTO","tokencsrf","tokeneKUA","TWBMC_TMPLIMG","TWBMC_TMPLTXT","TWBMC_AKUNFB","URL_END_POINT_NB"],async function(c){c.URL_EDITFOTO+d;var v=c.TWBMC_TMPLIMG,e=c.TWBMC_TMPLTXT,T=c.URL_END_POINT_NB,R=T+d;A=c.tokeneKUA;var y=c.tokencsrf,m=c.TWBMC_AKUNFB,U="",o="";await fetch(R,{headers:{accept:"application/json, text/javascript, */*; q=0.01","accept-language":"id-ID,id;q=0.9,en-US;q=0.8,en;q=0.7","sec-ch-ua":'"Google Chrome";v="113", "Chromium";v="113", "Not-A.Brand";v="24"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"Windows"',"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","x-csrf-token":y,"x-requested-with":"XMLHttpRequest"},referrer:"https://simkah4.kemenag.go.id/",referrerPolicy:"strict-origin",body:null,method:"GET",mode:"cors",credentials:"include"}).then(g=>{if(g.ok)return g.text();throw new Error("Response was not ok.")}).then(async g=>{var r=JSON.parse(g),p=r.html;U=r.html.split("fotosuami")[1].split("width=")[0].split("src=")[1].replaceAll("&quot;","").replaceAll('"',""),o=r.html.split("fotoistri")[1].split("width=")[0].split("src=")[1].replaceAll("&quot;","").replaceAll('"',"");var t=p.split("var data = "),t=t[1].split("};"),r=JSON.parse(t[0]+"}"),s=r.id_kecamatan;try{var[l,b,x]=await Q(s);b.includes("KAB.")&&(b=b.replace("KAB.","KABUPATEN"))}catch{var l="",b="",x=""}var P=r.datasuami.nama,G=r.datasuami.umur,$=r.datasuami.alamat,E=r.dataayahsuami.nama,C=r.dataistri.nama,W=r.dataistri.umur,H=r.dataistri.alamat,B=r.dataayahistri.nama,S=r.lokasi_akad,k=r.tgl_akad;k=await V(r.tgl_akad);var F=k.split(", ")[0].toUpperCase();k=k.split(", ")[1].toUpperCase();var _=r.nikah_di;_=="2"||_==2?_="DI LUAR KUA/ BEDOL":_="KANTOR KUA";var w=r.datawali.status_wali;w=="1"||w==1?w="NASAB":w="HAKIM",e=e.replace("${nmsuami}",P),e=e.replace("${umursuami}",G),e=e.replace("${addsuami}",$),e=e.replace("${binsuami}",E),e=e.replace("${nmistri}",C),e=e.replace("${umuristri}",W),e=e.replace("${bintiistri}",B),e=e.replace("${lokasiakad}",S),e=e.replace("${tglakad}",k),e=e.replace("${nikahdi}",_),e=e.replace("${stwali}",w),e=e.replace("${hariakad}",F),e=e.replace("${addistri}",H);var j="http://localhost:5000/templatenc/"+A,X={namasuami:P,bin:"BIN "+E,namaistri:C,binti:"BINTI "+B,kabko:`Kemenag ${b} ${x}`.toUpperCase(),kua:`Kantor Urusan Agama Kecamatan ${l}`.toUpperCase(),tanggal:k,lokasi:S,template:v,photosuami:U.trim(),photoistri:o.trim(),rgb:[0,0,0]};await fetch(j,{headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(X),method:"POST",mode:"cors"}).then(N=>{if(N.ok)return N.text();throw new Error("Response was not ok.")}).then(async N=>{try{var I=JSON.parse(N);if(I.success){var D=I.data;chrome.storage.sync.set({NCTOFB_img:D}),chrome.storage.local.set({NCTOFB_img:D});var J=m;chrome.storage.sync.set({NCTOFB_akun:J}),chrome.storage.sync.set({NCTOFBIsi:e}),setTimeout(async()=>{await chrome.tabs.query({active:!1,currentWindow:!0},async q=>{for(const L of q)if(L.url.indexOf("facebook.com")>0){u=L;break}u==null?await chrome.tabs.create({url:m}):await chrome.tabs.update(u.id,{active:!0,url:m},async function(){let L={active:!0},[z]=await chrome.tabs.query(L);var re=z})})},1e3)}else dtx={},dtx.width=300,dtx.height=180,dtx.pesan=I.msg,dtx.url="modal.html",M(dtx)}catch{}})})})}}):a.menuItemId==="nctofbAPK"&&chrome.tabs.query({active:!0,currentWindow:!0},function(i){var f=i[0];if(f.id,i[0].url=="https://simkah4.kemenag.go.id/8b01cbba-027e-4d8d-b9a9-2af3c9c43634"){var d=a.selectionText,u=null,n=!0;chrome.storage.sync.set({NCTOFB_pros:n}),chrome.storage.sync.get(["URL_EDITFOTO","tokencsrf","tokeneKUA","TWBMC_TMPLIMG","TWBMC_TMPLTXT","TWBMC_AKUNFB","URL_END_POINT_NB"],async function(c){c.URL_EDITFOTO+d;var v=c.TWBMC_TMPLIMG,e=c.TWBMC_TMPLTXT,T=c.URL_END_POINT_NB,R=T+d;A=c.tokeneKUA;var y=c.tokencsrf,m=c.TWBMC_AKUNFB,U="",o="";await fetch(R,{headers:{accept:"application/json, text/javascript, */*; q=0.01","accept-language":"id-ID,id;q=0.9,en-US;q=0.8,en;q=0.7","sec-ch-ua":'"Google Chrome";v="113", "Chromium";v="113", "Not-A.Brand";v="24"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"Windows"',"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","x-csrf-token":y,"x-requested-with":"XMLHttpRequest"},referrer:"https://simkah4.kemenag.go.id/",referrerPolicy:"strict-origin",body:null,method:"GET",mode:"cors",credentials:"include"}).then(g=>{if(g.ok)return g.text();throw new Error("Response was not ok.")}).then(async g=>{var r=JSON.parse(g),p=r.html;U=r.html.split("fotosuami")[1].split("width=")[0].split("src=")[1].replaceAll("&quot;","").replaceAll('"',""),o=r.html.split("fotoistri")[1].split("width=")[0].split("src=")[1].replaceAll("&quot;","").replaceAll('"',"");var t=p.split("var data = "),t=t[1].split("};"),r=JSON.parse(t[0]+"}"),s=r.id_kecamatan;try{var[l,b,x]=await Q(s);b.includes("KAB.")&&(b=b.replace("KAB.","KABUPATEN"))}catch{var l="",b="",x=""}var P=r.datasuami.nama,G=r.datasuami.umur,$=r.datasuami.alamat,E=r.dataayahsuami.nama,C=r.dataistri.nama,W=r.dataistri.umur,H=r.dataistri.alamat,B=r.dataayahistri.nama,S=r.lokasi_akad,k=r.tgl_akad;k=await V(r.tgl_akad);var F=k.split(", ")[0].toUpperCase();k=k.split(", ")[1].toUpperCase();var _=r.nikah_di;_=="2"||_==2?_="DI LUAR KUA/ BEDOL":_="KANTOR KUA";var w=r.datawali.status_wali;w=="1"||w==1?w="NASAB":w="HAKIM",e=e.replace("${nmsuami}",P),e=e.replace("${umursuami}",G),e=e.replace("${addsuami}",$),e=e.replace("${binsuami}",E),e=e.replace("${nmistri}",C),e=e.replace("${umuristri}",W),e=e.replace("${bintiistri}",B),e=e.replace("${lokasiakad}",S),e=e.replace("${tglakad}",k),e=e.replace("${nikahdi}",_),e=e.replace("${stwali}",w),e=e.replace("${hariakad}",F),e=e.replace("${addistri}",H);var j="http://localhost:5000/templatenc/android/"+A,X={namasuami:P,bin:"BIN "+E,namaistri:C,binti:"BINTI "+B,kabko:`Kemenag ${b} ${x}`.toUpperCase(),kua:`Kantor Urusan Agama Kecamatan ${l}`.toUpperCase(),tanggal:k,lokasi:S,template:v,photosuami:U.trim(),photoistri:o.trim(),rgb:[0,0,0]};await fetch(j,{headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(X),method:"POST",mode:"cors"}).then(N=>{if(N.ok)return N.text();throw new Error("Response was not ok.")}).then(async N=>{try{var I=JSON.parse(N);if(I.success){var D=I.data;chrome.storage.sync.set({NCTOFB_img:D}),chrome.storage.local.set({NCTOFB_img:D});var J=m;chrome.storage.sync.set({NCTOFB_akun:J}),chrome.storage.sync.set({NCTOFBIsi:e}),setTimeout(async()=>{await chrome.tabs.query({active:!1,currentWindow:!0},async q=>{for(const L of q)if(L.url.indexOf("facebook.com")>0){u=L;break}u==null?await chrome.tabs.create({url:m}):await chrome.tabs.update(u.id,{active:!0,url:m},async function(){let L={active:!0},[z]=await chrome.tabs.query(L);var re=z})})},1e3)}else dtx={},dtx.width=300,dtx.height=180,dtx.pesan=I.msg,dtx.url="modal.html",M(dtx)}catch{}})})})}})})})();
